(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{2429:function(t,n,e){"use strict";e.r(n);var o=e(0),r=e(90),a=e(98),i=e(541),c=e(5),u=e(1542),l=e(107),s=e(1363),f=e(246),p=function(t,n,e){return o.useEffect(function(){f.a.load("https://accounts.google.com/gsi/client").then(function(){google&&(t&&n?(google.accounts.id.initialize({client_id:n,callback:e,cancel_on_tap_outside:!1}),google.accounts.id.prompt()):google.accounts.id.cancel())})},[n,e,t])},g=function(){return o.useCallback(function(){return new Promise(function(t,n){f.a.load("https://apis.google.com/js/platform.js").then(function(){return gapi.load("auth2",t)}).catch(n)})},[])};function h(){return(h=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}).apply(this,arguments)}var b=function(t){return new Promise(function(n,e){gapi.auth2.authorize(t,function(t){t.error?e(t.error):n(t)})})},d=function(t,n){var e=g();return o.useCallback(function(o){return e().then(function(){var e={client_id:t,login_hint:o,scope:n.join(" ")};return b(h({},e,{prompt:"none"})).catch(function(t){if("immediate_failed"===t)return b(h({},e,{prompt:"consent"}));throw t})})},[e,t,n])},m=e(853),v=e(7);function y(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var e=[],o=!0,r=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(o=(i=c.next()).done)&&(e.push(i.value),!n||e.length!==n);o=!0);}catch(t){r=!0,a=t}finally{try{o||null==c.return||c.return()}finally{if(r)throw a}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var j=["openid","email","profile"];n.default=function(){var t=Object(c.a)(),n=Object(a.useStartLoginAttempt)(),e=Object(a.useResetSession)(),f="874470485231-c7l7qahib20c03gpab475f1j0una1pcu.apps.googleusercontent.com",g=v.a.loginFormType!==m.a.PHONE_AND_BUSINESS_EMAIL,h=y(o.useState(null),2),b=h[0],w=h[1],O=y(Object(s.a)(),2),_=O[0],S=O[1],k=y(o.useState(!1),2),E=k[0],A=k[1],P=Object(a.useHasActiveSession)(),C=Object(l.a)(),T=Object(r.useLoginWithTokenExchange)(),x=d(f,j),I=o.useCallback(function(){e(),w(null),S(),A(!1)},[e,w,S]);return p(g&&!P&&!0,f,o.useCallback(function(t){var o=t.credential;n(),A(!0);try{var r=Object(i.extractJWTPayload)(o);x(r.sub).then(function(t){var n=t.access_token;return T(C,{provider:"google",token:n})}).catch(function(t){w(t),e()})}catch(t){w(t),e()}},[C,x,T,e,n])),o.createElement(o.Fragment,null,o.createElement(u.a,{visible:E&&(!!b||!!_),onVisibilityChanged:I,message:_||t._("We're having trouble interacting with Google. Please try again later.")}))}}}]);
//# sourceMappingURL=googleOneTap.9500d1f59840ad1cafa2.js.map